<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>Configuring and initializing the library - @hmcts/cookie-manager</title>

    <link href="/stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://hmcts.github.io/cookie-manager/getting-started/configuring-the-library/">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="hmcts.github.io" />
      <meta name="twitter:image" content="https://hmcts.github.io/cookie-manager/images/govuk-large.png" />
      <meta name="twitter:title" content="Configuring and initializing the library - @hmcts/cookie-manager" />
      <meta name="twitter:url" content="https://hmcts.github.io/cookie-manager/getting-started/configuring-the-library/" />

      <meta property="og:image" content="https://hmcts.github.io/cookie-manager/images/govuk-large.png" />
      <meta property="og:site_name" content="@hmcts/cookie-manager" />
      <meta property="og:title" content="Configuring and initializing the library" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://hmcts.github.io/cookie-manager/getting-started/configuring-the-library/" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="https://github.com/hmcts/cookie-manager" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__product-name">
          @hmcts/cookie-manager
        </span>
      </a>
    </div>
    <div class="govuk-header__content">
      <nav class="govuk-header__navigation govuk-header__navigation--end" aria-label="Menu">
        <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" aria-label="Show or hide menu">Menu</button>
        <ul id="navigation" class="govuk-header__navigation-list">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/">Documentation</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="https://github.com/hmcts/cookie-manager">GitHub</a>
            </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body" data-module="in-page-navigation">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1" aria-label="Table of contents" role="dialog">
              <div class="search" data-module="search" data-path-to-site-root="/">
  <form action="https://www.google.co.uk/search" method="get" role="search" class="search__form govuk-!-margin-bottom-4">
    <input type="hidden" name="as_sitesearch" value="https://hmcts.github.io/cookie-manager"/>
    <label class="govuk-label search__label" for="search" aria-hidden="true">
      Search (via Google)
    </label>
    <input
      type="text"
      id="search" name="q"
      class="govuk-input govuk-!-margin-bottom-0 search__input"
      aria-controls="search-results"
      placeholder="Search">
    <button type="submit" class="search__button">Search</button>
  </form>
</div>

              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading" data-module="collapsible-navigation">
                      <ul>
  <li>
    <a href="/"><span>@hmcts/cookie-manager</span></a>
  </li>
<li><a href="/getting-started/"><span>Getting started</span></a>
<ul>
  <li>
    <a href="/getting-started/install-using-nodejs/"><span>Install using Node.js (NPM)</span></a>
  </li>
  <li>
    <a href="/getting-started/install-using-script-tag/"><span>Install using precompiled script / script tag</span></a>
  </li>
  <li>
    <a href="/getting-started/configuring-the-library/"><span>Configuring and initializing the library</span></a>
  </li>
</ul>
</li>
<li><a href="/configuration-options/"><span>Configuration options</span></a>
<ul>
  <li>
    <a href="/configuration-options/user-preferences/"><span>User preferences configuration options</span></a>
  </li>
  <li>
    <a href="/configuration-options/cookie-banner/"><span>Cookie banner configuration options</span></a>
  </li>
  <li>
    <a href="/configuration-options/cookie-preferences-form/"><span>Preferences form configuration options</span></a>
  </li>
  <li>
    <a href="/configuration-options/cookie-manifest/"><span>Cookie manifest configuration options</span></a>
  </li>
  <li>
    <a href="/configuration-options/additional-options/"><span>Additional configuration options</span></a>
  </li>
</ul>
</li>
  <li>
    <a href="/cookie-banner/"><span>Cookie banner</span></a>
  </li>
  <li>
    <a href="/cookie-preferences-form/"><span>Cookie preferences form</span></a>
  </li>
  <li>
    <a href="/listenining-to-cookie-manager-events/"><span>Events and listeners</span></a>
  </li>
  <li>
    <a href="/google-analytics-and-dynatrace-setup/"><span>Quick setup / Google Analytics and Dynatrace RUM</span></a>
  </li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
            <h1 id="configuring-and-initializing-the-library">Configuring and initializing the library</h1>
<h2 id="configuration">Configuration</h2>
<p>To configure the cookie-manager for your project, it needs to be supplied a config file on initialization.
Below is an example configuration:</p>
<div class="highlight"><pre class="highlight javascript" tabindex="0"><code><span class="p">{</span>
  <span class="nl">userPreferences</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">cookieName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">service-name-cookie-preferences</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">cookieBanner</span><span class="p">:</span> <span class="p">{</span>
      <span class="nl">class</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cookie-banner</span><span class="dl">'</span><span class="p">,</span>
      <span class="nx">actions</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
              <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">accept</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">buttonClass</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cookie-banner-accept-button</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">confirmationClass</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cookie-banner-accept-message</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">consent</span><span class="p">:</span> <span class="kc">true</span>
          <span class="p">},</span>
          <span class="p">{</span>
              <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">reject</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">buttonClass</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cookie-banner-reject-button</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">confirmationClass</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cookie-banner-reject-message</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">consent</span><span class="p">:</span> <span class="kc">false</span>
          <span class="p">},</span>
          <span class="p">{</span>
              <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">hide</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">buttonClass</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cookie-banner-hide-button</span><span class="dl">'</span><span class="p">,</span>
          <span class="p">}</span>
      <span class="p">]</span>
  <span class="p">},</span>
  <span class="nx">preferencesForm</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">class</span><span class="p">:</span><span class="dl">'</span><span class="s1">cookie-preferences-form</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="nx">cookieManifest</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">categoryName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">essential</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">optional</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">matchBy</span><span class="p">:</span> <span class="dl">'</span><span class="s1">exact</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">cookies</span><span class="p">:</span> <span class="p">[</span>
        <span class="dl">'</span><span class="s1">essential-cookie-one</span><span class="dl">'</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">categoryName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">analytics</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">optional</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">cookies</span><span class="p">:</span> <span class="p">[</span>
        <span class="dl">'</span><span class="s1">analytics-cookie-one</span><span class="dl">'</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">analytics-cookie-two</span><span class="dl">'</span><span class="p">,</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div><p>The configuration is made up of 4 main elements. These are</p>

<ul>
<li><code>userPreferences</code> -
This section is dedicated to the configuration of the user preferences cookie (used by cookie-manager).</li>
<li><code>cookieBanner</code> -
This section is for configuring how the cookie-manager library handles a cookie banner element.</li>
<li><code>preferencesForm</code> -
This section is for configuring how the cookie-manager library handles a form dedicated to cookie consent preferences.</li>
<li><code>cookieManifest</code> -
This section is used for listing the cookies expected to be encountered on the service,
it is broken up into categories where the cookies listed are specified as essential or non-essential.</li>
<li><code>additionalOptions</code> -
This section is used for non-recommended (or dangerous) configuration options, it is rarely needed.</li>
</ul>
<p>More about the configuring the library can be found within the <a href="/configuration-options/">configuration options</a> section</p>
<h2 id="initializing">Initializing</h2>

<div data-module="app-tabs">
  <ul class="app-tabs" role="tablist">
    <li class="app-tabs__item js-tabs__item js-tabs__item--open" role="presentation">
      <a href="#html-script" role="tab" aria-controls="html-script" aria-expanded="false">
         HTML / Script
      </a>
    </li>

    <li class="app-tabs__item js-tabs__item app-tabs__item--current" role="presentation">
      <a href="#nodejs" role="tab" aria-controls="nodejs" aria-expanded="true">
         NodeJS
      </a>
    </li>
  </ul>


  <div class="app-tabs__container js-tabs__container app-tabs__container--hidden" id="html-script" role="tabpanel" aria-hidden="true">
    <div class="app-example__code">
      <pre data-module="app-copy" tabindex="0">
         <code>
&lt;script src=&quot;/javascript/cookie-manager-&lt;VERSION-NUMBER&gt;.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
const config = { ... }

window.cookieManager.init(config);
&lt;/script&gt;
</code>
</pre>
   </div>
  </div>


  <div class="app-tabs__container js-tabs__container" id="nodejs" role="tabpanel" aria-hidden="false">
    <div>
      <pre data-module="app-copy" tabindex="0">
         <code>
import cookieManager from '@hmcts/cookie-manager';

const config = { ... }

cookieManager.init(config);
</code>
</pre>
   </div>
  </div>
</div>
<p></br></p>

<script src="/javascripts/highlight.min.js"></script>

<script>hljs.highlightAll();</script>

            
          </main>

          <aside>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">


      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >Â© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="/javascripts/application.js"></script>
  </body>
</html>
